<?phpinclude './menu.inc';if($view_flag =="1"){    foreach(array_reverse($data) as $datum){    //デバッグ用配列表示    //print_r($datum);    //ニックネーム変更行の処理        if(preg_match("/^->$/",$datum[2])){        nick_change($datum);    //チャンネルpart時の処理。timout等も含む。        }elseif(preg_match("/^!/",$datum[1])){        chanel_part($datum);    //チャンネルjoin時の処理。class名変えた方がよいか？        }elseif(preg_match("/^\+$/",$datum[1])){        chanel_join($datum);    //Mode変更       }elseif(preg_match("/^Mode$/",$datum[1])){        mode_chg($datum);    //Topic設定        }elseif(preg_match("/^Topic/",$datum[1])){        topic_set($datum);    //m_mai設定        }elseif(preg_match("/m_mai>$/",$datum[1])){        m_mai($datum);    //dametunes        }elseif(preg_match("/^\(#dametunes/",$datum[1])){        dametunes($datum);    //通常入力の処理。        }else{        log_txt_noimage($datum);        }    }}elseif($view_flag =="2" ){    foreach($data as $datum){    //デバッグ用配列表示    //print_r($datum);    //ニックネーム変更行の処理        if(preg_match("/^->$/",$datum[2])){            nick_change($datum);    //チャンネルpart時の処理。timout等も含む。        }elseif(preg_match("/^!/",$datum[1])){            chanel_part($datum);    //チャンネルjoin時の処理。class名変えた方がよいか？        }elseif(preg_match("/^\+$/",$datum[1])){        chanel_join($datum);    //Mode変更        }elseif(preg_match("/^Mode$/",$datum[1])){        mode_chg($datum);    //Topic設定        }elseif(preg_match("/^Topic/",$datum[1])){        topic_set($datum);    //m_mai設定        }elseif(preg_match("/m_mai>$/",$datum[1])){        m_mai($datum);    //dametunes        }elseif(preg_match("/^\(#dametunes/",$datum[1])){        dametunes($datum);    //通常入力の処理。        }else{        log_txt($datum);        }    }}elseif($view_flag =="3"){    foreach($data as $datum){        //デバッグ用配列表示        //print_r($datum);        //ニックネーム変更行の処理        if(preg_match("/^->$/",$datum[2])){        nick_change($datum);        //チャンネルpart時の処理。timout等も含む。        }elseif(preg_match("/^!/",$datum[1])){        chanel_part($datum);        //チャンネルjoin時の処理。class名変えた方がよいか？        }elseif(preg_match("/^\+$/",$datum[1])){        chanel_join($datum);        //Mode変更        }elseif(preg_match("/^Mode$/",$datum[1])){        mode_chg($datum);    //Topic設定        }elseif(preg_match("/^Topic/",$datum[1])){        topic_set($datum);    //m_mai設定        }elseif(preg_match("/m_mai>$/",$datum[1])){        m_mai($datum);    //dametunes        }elseif(preg_match("/^\(#dametunes/",$datum[1])){        dametunes($datum);        //通常入力の処理。        }else{        log_txt_noimage($datum);            }    }}elseif($view_flag =="4"){foreach(array_reverse($data) as $datum){//通常入力の処理。for ($i=2 ; isset($datum[$i])  ; $i++){        if(preg_match('/(https?|ftp)(:\/\/[-_.!~*\'()a-zA-Z0-9;\/?:\@&=+\$,%#]+)/',$datum[$i])){        log_txt($datum);        }    }   }}elseif($view_flag =="5"){foreach(array_reverse($data) as $datum){//通常入力の処理。    for ($i=2 ; isset($datum[$i])  ; $i++){        if(preg_match('/(https?|ftp)(:\/\/[-_.!~*\'()a-zA-Z0-9;\/?:\@&=+\$,%#]+)/',$datum[$i])){        log_txt_noimage($datum);            }    }} }elseif($view_flag =="6"){    foreach(array_reverse($data) as $datum){        //デバッグ用配列表示        //print_r($datum);        //ニックネーム変更行の処理        if(preg_match("/^->$/",$datum[2])){        nick_change($datum);        //チャンネルpart時の処理。timout等も含む。        }elseif(preg_match("/^!/",$datum[1])){        chanel_part($datum);        //チャンネルjoin時の処理。class名変えた方がよいか？        }elseif(preg_match("/^\+$/",$datum[1])){        chanel_join($datum);        //Mode変更        }elseif(preg_match("/^Mode$/",$datum[1])){        mode_chg($datum);    //Topic設定        }elseif(preg_match("/^Topic/",$datum[1])){        topic_set($datum);    //m_mai設定        }elseif(preg_match("/m_mai>$/",$datum[1])){        m_mai($datum);    //dametunes        }elseif(preg_match("/^\(#dametunes/",$datum[1])){        dametunes($datum);        //通常入力の処理。        }else{        log_txt_noimage($datum);            }    }}else{    foreach(array_reverse($data)  as $datum){    //デバッグ用配列表示    //print_r($datum);    //ニックネーム変更行の処理        if(preg_match("/^->$/",$datum[2])){            nick_change($datum);    //チャンネルpart時の処理。timout等も含む。        }elseif(preg_match("/^!/",$datum[1])){            chanel_part($datum);    //チャンネルjoin時の処理。class名変えた方がよいか？        }elseif(preg_match("/^\+$/",$datum[1])){        chanel_join($datum);    //Mode変更        }elseif(preg_match("/^Mode$/",$datum[1])){        mode_chg($datum);    //Topic設定        }elseif(preg_match("/^Topic/",$datum[1])){        topic_set($datum);    //m_mai設定        }elseif(preg_match("/m_mai>$/",$datum[1])){        m_mai($datum);    //dametunes        }elseif(preg_match("/^\(#dametunes/",$datum[1])){        dametunes($datum);    //通常入力の処理。        }else{        log_txt($datum);        }    }}?>